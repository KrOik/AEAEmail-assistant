# 学术邮件智能辅助工具 (AEAMAIL Assistant)

## 项目简介

学术邮件智能辅助工具是一个帮助用户撰写专业学术邮件的Web应用程序。它提供了邮件知识库查询和邮件撰写两大核心功能，旨在帮助学生和研究人员创建得体、专业的学术邮件。

## 功能特点

### 1. 知识库查询模式
- **教师称谓查询**：提供正确的教师称谓格式和特定教师的称谓信息
- **邮件写作指南**：包括主题、称呼、开场、正文、结尾、附件等邮件组成部分的写作规范
- **常见问题解答**：回答与学术邮件相关的常见问题

### 2. 邮件撰写模式
- **双语邮件生成**：同时生成中英文版本的专业邮件
- **邮件主题生成**：按照规范格式生成清晰的邮件主题
- **撰写建议**：提供针对性的邮件改进建议和注意事项

## 技术栈

- **前端**：HTML, CSS, JavaScript
- **后端**：Python, Flask
- **API**：通过DashScope API调用大语言模型

## 安装与使用

### 环境要求
- Python 3.6+
- 现代浏览器（Chrome, Firefox, Edge等）

### 安装步骤

1. 克隆或下载本项目
2. 安装依赖：
   ```
   pip install -r requirements.txt
   ```
3. 创建`.env`文件，配置API密钥：
   ```
   QWEN_API_KEY=你的API密钥
   API_URL=你的端点
   ```

### Netlify部署

1. 在Netlify上创建新站点，连接到你的GitHub仓库

2. 在Netlify站点设置中配置环境变量：
   - 进入站点设置 > Build & deploy > Environment variables
   - 添加以下环境变量：
     - `QWEN_API_KEY`: 你的通义千问API密钥
      - `API_URL`: API端点URL（例如：https://xxx/v1/services/aigc/text-generation/generation）

3. 部署完成后，访问 `/test-env.html` 页面测试环境变量是否正确注入

4. 如果环境变量更新，需要重新部署站点以使更改生效

### API调用安全机制

本项目使用Netlify函数来安全地处理API调用，避免在前端暴露API密钥：

1. 前端代码通过调用 `/.netlify/functions/api` 函数发送请求
2. Netlify函数在服务器端安全地访问环境变量并调用外部API
3. 环境变量（API密钥和URL）只在服务器端使用，不会暴露给前端

这种方式比之前的环境变量注入机制更安全，因为：
1. API密钥完全不会出现在前端代码中
2. 所有API请求都通过服务器端处理，增加了一层安全保障
3. 即使有人查看前端代码，也无法获取API密钥

注意：环境变量更新后会立即生效，无需重新部署站点。

## 使用指南

### 知识库查询模式
- 点击界面上的"知识库查询"按钮
- 输入您的问题，例如：
  - "如何称呼教授？"
  - "邮件正文应该包含哪些内容？"
  - "如何写邮件主题？"
  - "haochuan.jiang的称谓是什么"

### 邮件撰写模式
- 点击界面上的"邮件撰写"按钮
- 描述您需要撰写的邮件内容和目的，例如：
  - "请帮我写一封询问教授科研机会的邮件"
  - "我想写一封请假邮件给导师"
  - "帮我写一封感谢教授的推荐信邮件"

## 语言支持

应用支持中文和英文界面，可通过界面上的语言切换按钮进行切换。

## 数据隐私

本应用不会永久存储用户输入的敏感信息，所有聊天记录仅保存在用户本地浏览器中。

## 许可证

本项目仅供学习和研究使用。